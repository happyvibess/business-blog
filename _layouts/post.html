---
layout: default
---
<article class="container mx-auto px-4 py-12">
  <header class="max-w-3xl mx-auto mb-12">
    <h1 class="text-4xl md:text-5xl font-bold mb-4">{{ page.title }}</h1>
    <div class="flex items-center text-gray-600 mb-8">
      <time datetime="{{ page.date | date_to_xmlschema }}">
        {{ page.date | date: "%B %d, %Y" }}
      </time>
      {% if page.author %}
      <span class="mx-2">•</span>
      <span>{{ page.author }}</span>
      {% endif %}
    </div>
    {% if page.image %}
    <img src="{{ page.image | relative_url }}" alt="{{ page.title }}" class="w-full h-64 md:h-96 object-cover rounded-lg shadow-lg mb-8">
    {% endif %}
  </header>

  <div class="prose prose-lg max-w-3xl mx-auto mb-12">
    {{ content }}
  </div>

  {% if page.categories.size > 0 %}
  <div class="max-w-3xl mx-auto mb-12">
    <h3 class="text-lg font-semibold mb-4">Categories:</h3>
    <div class="flex flex-wrap gap-2">
      {% for category in page.categories %}
      <a href="{{ '/category/' | append: category | relative_url }}" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors">
        {{ category }}
      </a>
      {% endfor %}
    </div>
  </div>
  {% endif %}

  {% if site.disqus.shortname %}
  <div class="max-w-3xl mx-auto">
    {% include disqus_comments.html %}
  </div>
  {% endif %}
</article>

<aside class="bg-gray-100 py-12">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl font-bold text-center mb-12">Related Posts</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {% assign maxRelated = 3 %}
      {% assign minCommon = 1 %}
      {% assign relatedCount = 0 %}
      {% for post in site.posts %}
        {% assign sameCategories = 0 %}
        {% for category in post.categories %}
          {% if page.categories contains category %}
            {% assign sameCategories = sameCategories | plus: 1 %}
          {% endif %}
        {% endfor %}
        {% if sameCategories >= minCommon and post.url != page.url and relatedCount < maxRelated %}
          {% assign relatedCount = relatedCount | plus: 1 %}
          <article class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow">
            {% if post.image %}
            <img src="{{ post.image | relative_url }}" alt="{{ post.title }}" class="w-full h-48 object-cover">
            {% endif %}
            <div class="p-6">
              <h3 class="text-xl font-semibold mb-3">
                <a href="{{ post.url | relative_url }}" class="text-gray-900 hover:text-blue-600">{{ post.title }}</a>
              </h3>
              <p class="text-gray-600 mb-4">{{ post.excerpt | strip_html | truncatewords: 30 }}</p>
              <div class="flex items-center justify-between">
                <span class="text-sm text-gray-500">{{ post.date | date: "%B %d, %Y" }}</span>
                <a href="{{ post.url | relative_url }}" class="text-blue-600 hover:text-blue-800 font-medium">Read More →</a>
              </div>
            </div>
          </article>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</aside>

